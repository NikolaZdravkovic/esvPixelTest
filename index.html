<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body style="background-color: yellow;">
    <h1>WELCOME TO IKEA </h1>
    <div id="message"></div>

    <script>
        window.onload = function () {
            // Get a reference to the div on the page that will display the
            // message text.
            var messageEle = document.getElementById('message');
            var newCookieVals;
            var cookieExpiration = new Date(+new Date() + 1000 * 60 * 60 * 24 * 30 * 24);



            // A function to process messages received by the window.
            function receiveMessage(e) {
                // Check to make sure that this message came from the correct domain.
                if (e.type === "message") {
                    // Update the div element to display the message.
                    var newCookieVals = e.data;
                    var storedVals = getCookie_('__utmz') || getCookie_('__utmzz');
                    var sessionCookie = getCookie_('__utmzzses');


                    function writeCookie_(name, value, expiration) {

                        var str = name + '=' + value + ';';
                        if (expiration) str += 'Expires=' + expiration.toGMTString() + ';';
                        // if (path) str += 'Path=' + path + ';';
                        // if (domain) str += 'Domain=' + domain + ';';

                        document.cookie = str;

                    }

                    function getCookie_(name) {

                        var cookies = '; ' + document.cookie
                        var cvals = cookies.split('; ' + name + '=');

                        if (cvals.length > 1) return cvals.pop().split(';')[0];

                    }
                    function writeCurrentCookie_(name, value, path) {

                        if (path) str += 'Path=' + path + ';';
                        if (domain) str += 'Domain=' + domain + ';';

                        document.cookie = str;

                    }

                    if (!getCookie_('initialTrafficSource')) {
                        writeCookie_('initialTrafficSource', newCookieVals.join('|'), cookieExpiration, '/');
                    }
                    if (!getCookie_('esvTrafficSource')) {
                        sessionStorage.setItem('cookieSession', 'false');
                        writeCurrentCookie_('esvTrafficSource', newCookieVals.join('|'), '/');
                    }
                    if (cookieSession == 'true') {
                        writeCurrentCookie_('esvTrafficSource', newCookieVals.join('|'), '/');
                        sessionStorage.setItem('cookieSession', 'false');
                    } Æ’

                    //     var utm_campaign = params.utm_campaign;
                    //     var utm_medium = params.utm_medium;
                    //     var utm_source=params.utm_source;
                    //    console.log(e.data)
                }


            }

            // Setup an event listener that calls receiveMessage() when the window
            // receives a new MessageEvent.
            window.addEventListener('message', receiveMessage);
        }

    </script>
</body>

</html>